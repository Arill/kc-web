(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d7ab53d"],{"17b3":function(t,e,i){},"210b":function(t,e,i){},"31bf":function(t,e,i){},"33e9":function(t,e,i){},"3f84":function(t,e,i){"use strict";i("fb69")},"518e":function(t,e,i){"use strict";i("31bf")},"5cb8":function(t,e,i){},7314:function(t,e,i){},"9a18":function(t,e,i){"use strict";var s=i("ba0d");e["a"]=s["a"]},affd:function(t,e,i){"use strict";i("7314")},b9e6:function(t,e,i){"use strict";i("5cb8")},c0e6:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ma-4"},[i("div",{staticClass:"mb-3"},[i("v-icon",{attrs:{"x-large":""}},[t._v("mdi-database-cog")]),i("span",{staticClass:"ml-1"},[t._v("艦娘 / 装備管理")])],1),i("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab",{attrs:{href:"#ships"}},[t._v("艦娘")]),i("v-tab",{attrs:{href:"#items"}},[t._v("装備")]),i("v-tab",{attrs:{href:"#read",disabled:t.readOnlyMode}},[t._v("反映")]),i("v-tab",{attrs:{href:"#share"}},[t._v("共有")])],1),i("v-divider"),i("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab-item",{attrs:{value:"ships"}},[i("ships")],1),i("v-tab-item",{attrs:{value:"items"}},[i("items")],1),i("v-tab-item",{attrs:{value:"read"}},[i("div",{staticClass:"general-container pa-4 my-2"},[i("v-card",{staticClass:"tutorial_box"},[i("div",[t._v("1. 艦これにログイン後、艦これ画面上で右クリックし、コンテキストメニューから「検証」を選択")]),i("div",[t._v("※ 以降、反映手順については、PC版ブラウザ『Google Chrome』における説明となっています。")]),i("div",{staticClass:"tutorial_img"},[i("v-img",{attrs:{src:"./img/tutorial/tutorial1.jpg"}})],1)]),i("v-card",{staticClass:"tutorial_box"},[i("div",[t._v("2. ウインドウが開くので、「Console」タブを開き、「Clear console」ボタンを押下")]),i("div",{staticClass:"tutorial_img"},[i("v-img",{attrs:{src:"./img/tutorial/tutorial2.jpg"}})],1)]),i("v-card",{staticClass:"tutorial_box"},[i("div",[t._v("3. consoleに「this.KCS」と入力してEnterを押下、表示されたオブジェクトについて矢印を選択して内容を展開")]),i("div",{staticClass:"tutorial_img"},[i("v-img",{attrs:{src:"./img/tutorial/tutorial3.jpg"}})],1)]),i("v-card",{staticClass:"tutorial_box"},[i("div",[t._v("4. 4つあるオブジェクトのなかで、内容が「{__esModule: true, default: ƒ}」となっているオブジェクトを探す")]),i("div",{staticClass:"tutorial_img"},[i("v-img",{attrs:{src:"./img/tutorial/tutorial4.jpg"}})],1)]),i("v-card",{staticClass:"tutorial_box"},[i("div",[t._v("5. 4で見つけたオブジェクトのうち、「default」まで展開したときに中に「model」が存在するものを探す")]),i("div",{staticClass:"tutorial_img"},[i("v-img",{attrs:{src:"./img/tutorial/tutorial5.jpg"}})],1)]),i("v-card",{staticClass:"tutorial_box"},[i("div",[t._v(" 6. 「model」が存在する方の「default」の上で右クリックし、「Store function as global variable」（なければ「Store as global variable」）を選択 ")]),i("div",{staticClass:"tutorial_img"},[i("v-img",{attrs:{src:"./img/tutorial/tutorial6.jpg"}})],1),i("div",[t._v(" 選択すると、下記のように「temp1」と出てきます。もし、temp2など数字が違っている場合、次の手順7.の注意事項欄を見てください。 ")]),i("div",{staticClass:"tutorial_img"},[i("v-img",{attrs:{src:"./img/tutorial/tutorial6_2.jpg"}})],1)]),i("v-card",{staticClass:"tutorial_box"},[i("div",[t._v(" 7. 下記のJavaScriptコードをconsoleに貼り付け、Enterを押下。※ 押下後、『undefined』と表示されれば、クリップボードに自動コピーされており、そのまま手順8の入力欄に貼り付けることができます。 ")]),i("div",{staticClass:"d-flex"},[i("v-radio-group",{staticClass:"py-0",attrs:{row:"","hide-details":""},model:{value:t.includeUnLocked,callback:function(e){t.includeUnLocked=e},expression:"includeUnLocked"}},[i("v-radio",{attrs:{label:"未ロックも含める",value:!0}}),i("v-radio",{attrs:{label:"ロック済みのみ",value:!1}})],1)],1),i("div",[i("v-tabs",{model:{value:t.code_tab,callback:function(e){t.code_tab=e},expression:"code_tab"}},[i("v-tab",{attrs:{href:"#ship_code"}},[t._v("艦娘")]),i("v-tab",{attrs:{href:"#item_code"}},[t._v("装備")])],1)],1),i("v-tabs-items",{model:{value:t.code_tab,callback:function(e){t.code_tab=e},expression:"code_tab"}},[i("v-tab-item",{attrs:{value:"ship_code"}},[i("v-card",{staticClass:"copy_code"},[t._v(" copy(JSON.stringify(Object.entries("),i("span",{staticClass:"red--text"},[t._v("temp1")]),t._v(".model.ship._map).map(([,v])=>{return{'id': v._o.api_ship_id,'lv': v._o.api_lv,'locked': v._o.api_locked,'st': v._o.api_kyouka,'exp':v._o.api_exp,'ex':v._o.api_slot_ex,'area':v._o.api_sally_area}})"),t.includeUnLocked?t._e():i("span",[t._v(".filter(v=>v.locked)")]),t._v(",['id','lv','st','exp','ex','area'])) ")])],1),i("v-tab-item",{attrs:{value:"item_code"}},[i("v-card",{staticClass:"copy_code"},[t._v(" copy(JSON.stringify(Object.entries("),i("span",{staticClass:"red--text"},[t._v("temp1")]),t._v(".model.slot._map).map(([,v])=>{return {'id':v._o.api_slotitem_id,'lv': v._o.api_level,'locked':v._o.api_locked}})"),t.includeUnLocked?t._e():i("span",[t._v(".filter(v=>v.locked)")]),t._v(",['id','lv'])) ")])],1)],1),i("div",{staticClass:"tutorial_img"},[i("v-img",{attrs:{src:"./img/tutorial/tutorial7.jpg"}})],1),i("div",{staticClass:"warning_box mt-3"},[i("div",[t._v("注意事項")]),i("div",{staticClass:"mt-1"},[t._v(" 手順6.「Store function as global variable」を選択した際に出てくる「"),i("span",{staticClass:"red--text"},[t._v("temp○○")]),t._v("」と、 上記JavaScript内の「"),i("span",{staticClass:"red--text"},[t._v("temp○○")]),t._v("」は一致させる必要があります。 ")]),i("div",[t._v(" 手順通りやるとtemp1となりますが、手順6.で例えば「temp2」と出てきていたら、JavaScriptコードの「temp1」の部分を「temp2」と自分で書き換えて実行してください。 ")]),i("div",{staticClass:"tutorial_img"},[i("v-img",{attrs:{src:"./img/tutorial/tutorial7_2.jpg"}})],1)])],1),i("v-card",{staticClass:"tutorial_box"},[i("div",[t._v("8. 下記の反映エリアに、手順7.でコピーされた文字列を貼り付けて「反映」を押下")]),i("v-textarea",{staticClass:"mt-4",attrs:{outlined:"",dense:"","hide-details":"","no-resize":"",label:"反映エリア"},model:{value:t.inputText,callback:function(e){t.inputText="string"===typeof e?e.trim():e},expression:"inputText"}}),i("v-btn",{staticClass:"mt-4",attrs:{color:"primary",block:""},on:{click:function(e){return t.readJson()}}},[t._v("反映")])],1)],1)]),i("v-tab-item",{attrs:{value:"share"}},[i("v-card",{staticClass:"my-3 pa-2"},[i("div",{staticClass:"d-flex pt-3 pb-4"},[i("div",{staticClass:"align-self-center ml-3"},[t._v("共有URL発行機能")])]),i("v-divider"),i("div",{staticClass:"pa-4"},[i("div",{staticClass:"mb-2"},[t._v("URL発行")]),i("div",{staticClass:"body-2"},[t._v("自分の艦隊、装備情報を他の人に見てもらうためのURLを発行します。")]),i("div",{staticClass:"body-2"},[t._v(" 発行された情報は閲覧専用です。発行されたURLを他人に公開しても、自分の艦娘や装備情報が書き換えられてしまうことはありません。 ")]),i("div",{staticClass:"body-2 mb-3"},[t._v("閲覧する側は、共有された艦娘や装備情報を元に編成を作成することができます。")]),i("div",{staticClass:"shared-url-container"},[i("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.createdURL,expression:"!createdURL"}],attrs:{color:"primary",loading:t.loadingURL,disabled:t.loadingURL||t.readOnlyMode},on:{click:function(e){return t.requestURLKey()}}},[t._v("共有URL作成")]),i("v-text-field",{directives:[{name:"show",rawName:"v-show",value:t.createdURL,expression:"createdURL"}],attrs:{id:"createdURL",readonly:"","append-icon":"mdi-content-copy",hint:t.copiedURLHint},on:{"click:append":t.copyURL,blur:t.clearURLHint},model:{value:t.createdURL,callback:function(e){t.createdURL=e},expression:"createdURL"}})],1)]),i("v-divider"),i("div",{staticClass:"pa-4"},[i("div",{staticClass:"mb-2"},[t._v("発行履歴")]),t._l(t.outputHistories,(function(e,s){return i("v-card",{key:"history_"+s,staticClass:"ma-2 pa-3"},[i("div",{staticClass:"d-flex"},[i("div",{staticClass:"mr-2 align-self-center caption"},[i("div",[t._v("発行日:")]),i("div",[t._v(t._s(e.createdAt))])]),i("div",{staticClass:"mr-2 align-self-center"},[i("v-btn",{attrs:{color:"info",disabled:t.btnClicked||t.readOnlyMode},on:{click:function(e){return t.expandHistory(s)}}},[t._v("展開")])],1),i("div",{staticClass:"mr-2 align-self-center"},[i("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.clickedDeleteHistory(s)}}},[t._v("削除")])],1),i("div",{staticClass:"mr-2 align-self-center"},[i("v-btn",{attrs:{color:"success",disabled:!e.remarks||!e.remarks.length},on:{click:function(e){return t.updateHistory(s)}}},[t._v("更新")])],1),i("div",{staticClass:"align-self-center flex-grow-1"},[i("v-text-field",{attrs:{dense:"",outlined:"","hide-details":"",label:"Memo"},model:{value:e.remarks,callback:function(i){t.$set(e,"remarks",i)},expression:"data.remarks"}})],1)])])}))],2)],1)],1)],1),i("div",{staticClass:"info-area"},[i("v-divider",{staticClass:"mb-2"}),i("div",{staticClass:"caption"},[t._v(" 著作権法第32条に基づき画像を引用し、著作権は権利者様へ帰属します。権利者様側からの画像等の削除の依頼や警告には速やかに対処いたします。 ")]),i("div",{staticClass:"caption"},[t._v("また、本サイトの情報、計算結果によって受けた利益・損害その他あらゆる事象については一切の責任を負いません。")])],1),i("v-dialog",{attrs:{transition:"scroll-x-transition",width:"400"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[i("v-card",{staticClass:"pa-3"},[i("div",{staticClass:"ma-4"},[i("div",[t._v("本当に削除しますか？")])]),i("v-divider",{staticClass:"my-2"}),i("div",{staticClass:"d-flex"},[i("v-btn",{staticClass:"ml-auto",attrs:{color:"info",dark:"",disabled:!t.confirmDialog},on:{click:function(e){return e.stopPropagation(),t.deleteHistory()}}},[t._v("削除")]),i("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!1}}},[t._v("戻る")])],1)],1)],1)],1)},a=[],n=i("1da1"),l=(i("96cf"),i("99af"),i("d3b7"),i("e9c4"),i("d81d"),i("4de4"),i("2b0e")),o=i("2ef0"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-3"},[i("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab",{attrs:{href:"#list"}},[t._v("一覧")]),i("v-tab",{attrs:{href:"#analytics"}},[t._v("経験値")])],1),i("v-divider",{staticClass:"mb-2"}),i("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab-item",{attrs:{value:"list"}},[i("v-expansion-panels",[i("v-expansion-panel",[i("v-expansion-panel-header",{staticClass:"px-4"},[i("div",[i("v-icon",[t._v("mdi-filter")]),t._v("フィルタ "),i("span",{staticClass:"caption"},[t._v("("+t._s(t.viewShips.length)+"隻 / "+t._s(t.allCount)+"隻)")])],1)]),i("v-expansion-panel-content",[i("v-divider",{staticClass:"mb-6"}),i("div",{staticClass:"d-flex flex-wrap my-2"},[i("v-text-field",{staticClass:"search-input",attrs:{label:"id 名称検索",dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-magnify"},on:{input:t.masterFilter},model:{value:t.searchWord,callback:function(e){t.searchWord="string"===typeof e?e.trim():e},expression:"searchWord"}}),i("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:"未着任艦非表示"},on:{change:t.filter},model:{value:t.onlyStock,callback:function(e){t.onlyStock=e},expression:"onlyStock"}}),i("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:"未着任艦のみ"},on:{change:t.filter},model:{value:t.onlyNoStock,callback:function(e){t.onlyNoStock=e},expression:"onlyNoStock"}}),i("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:"耐久値4n"},on:{change:t.filter},model:{value:t.is4n,callback:function(e){t.is4n=e},expression:"is4n"}}),i("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:"大発搭載可"},on:{change:t.filter},model:{value:t.isDiahatsu,callback:function(e){t.isDiahatsu=e},expression:"isDiahatsu"}}),i("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:"内火艇搭載可"},on:{change:t.filter},model:{value:t.isKamisha,callback:function(e){t.isKamisha=e},expression:"isKamisha"}}),i("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:"補強増設開放済"},on:{change:t.filter},model:{value:t.onlyReleaseExSlot,callback:function(e){t.onlyReleaseExSlot=e},expression:"onlyReleaseExSlot"}})],1),i("div",{staticClass:"my-5 range-inputs"},[i("div",{staticClass:"d-flex py-5"},[i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"Lv下限",type:"number",max:t.levelRange[1],min:"1",dense:"","hide-details":""},on:{input:t.filter},model:{value:t.levelRange[0],callback:function(e){t.$set(t.levelRange,0,"string"===typeof e?e.trim():e)},expression:"levelRange[0]"}})],1),i("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"1",max:"175","hide-details":""},on:{change:t.filter},model:{value:t.levelRange,callback:function(e){t.levelRange=e},expression:"levelRange"}}),i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"Lv上限",type:"number",max:"200",min:t.levelRange[0],dense:"","hide-details":""},on:{input:t.filter},model:{value:t.levelRange[1],callback:function(e){t.$set(t.levelRange,1,"string"===typeof e?e.trim():e)},expression:"levelRange[1]"}})],1)],1),i("div",{staticClass:"d-flex py-5"},[i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"運下限",type:"number",max:t.luckRange[1],min:"1",dense:"","hide-details":""},on:{input:t.filter},model:{value:t.luckRange[0],callback:function(e){t.$set(t.luckRange,0,"string"===typeof e?e.trim():e)},expression:"luckRange[0]"}})],1),i("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"1",max:"200","hide-details":""},on:{change:t.filter},model:{value:t.luckRange,callback:function(e){t.luckRange=e},expression:"luckRange"}}),i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"運上限",type:"number",max:"200",min:t.luckRange[0],dense:"","hide-details":""},on:{input:t.filter},model:{value:t.luckRange[1],callback:function(e){t.$set(t.luckRange,1,"string"===typeof e?e.trim():e)},expression:"luckRange[1]"}})],1)],1)]),i("div",{staticClass:"my-5 range-inputs"},[i("v-select",{staticClass:"mt-2 py-5",attrs:{items:t.hpItems,dense:"",attach:"",chips:"","deletable-chips":"","hide-details":"",label:"耐久改修",multiple:""},on:{change:t.filter},model:{value:t.addHP,callback:function(e){t.addHP=e},expression:"addHP"}}),i("div",{staticClass:"d-flex py-5"},[i("div",{staticClass:"range-input align-self-end"},[i("v-text-field",{attrs:{label:"対潜改修下限",type:"number",max:t.aswRange[1],min:"0",dense:"","hide-details":""},on:{input:t.filter},model:{value:t.aswRange[0],callback:function(e){t.$set(t.aswRange,0,"string"===typeof e?e.trim():e)},expression:"aswRange[0]"}})],1),i("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"0",max:"9","hide-details":""},on:{change:t.filter},model:{value:t.aswRange,callback:function(e){t.aswRange=e},expression:"aswRange"}}),i("div",{staticClass:"range-input align-self-end"},[i("v-text-field",{attrs:{label:"対潜改修上限",type:"number",max:"9",min:t.aswRange[0],dense:"","hide-details":""},on:{input:t.filter},model:{value:t.aswRange[1],callback:function(e){t.$set(t.aswRange,1,"string"===typeof e?e.trim():e)},expression:"aswRange[1]"}})],1)],1)],1),i("v-select",{staticClass:"my-10",attrs:{items:t.types,"hide-details":"",dense:"",attach:"",chips:"","deletable-chips":"",label:"艦種",multiple:""},on:{change:t.masterFilter},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[i("v-list-item",{attrs:{ripple:""},on:{mousedown:function(t){t.preventDefault()},click:t.toggleAllType}},[i("v-list-item-action",[i("v-icon",{attrs:{color:t.selectedTypes.length>0?"blue":""}},[t._v(" "+t._s(t.icon)+" ")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("全選択")])],1)],1),i("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.selectedTypes,callback:function(e){t.selectedTypes=e},expression:"selectedTypes"}}),i("div",{staticClass:"d-flex"},[t._l(t.maxAreas,(function(e){return i("div",{key:"area"+e,staticClass:"selected-area-btn align-self-center",class:{selected:t.selectedArea.includes(e)},on:{click:function(i){return t.clickedArea(e)}}},[i("v-img",{attrs:{src:"./img/util/area"+e+".png",height:"68",width:"47"}})],1)})),i("div",{staticClass:"selected-area-btn no-area align-self-center",class:{selected:t.visibleNoArea},on:{click:function(e){return t.clickedArea(-1)}}},[t._v(" 札なし ")])],2)],1)],1)],1),i("v-card",{staticClass:"ship-list-body my-3 pa-4"},[t.viewShips.length?i("div",{staticClass:"d-flex"},[t.modeTable&&t.viewShips.length?i("v-pagination",{staticClass:"mb-4",attrs:{length:t.pageLength},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e(),i("v-btn-toggle",{staticClass:"ml-auto",attrs:{dense:"",borderless:"",mandatory:""},model:{value:t.modeTable,callback:function(e){t.modeTable=e},expression:"modeTable"}},[i("v-btn",{class:{"blue darken-2 white--text":t.modeTable},attrs:{value:!0},on:{click:function(e){return e.stopPropagation(),t.changeViewMode(!0)}}},[i("v-icon",[t._v("mdi-view-headline")]),i("span",[t._v("一覧表示")])],1),i("v-btn",{class:{"blue darken-2 white--text":!t.modeTable},attrs:{value:!1},on:{click:function(e){return e.stopPropagation(),t.changeViewMode(!1)}}},[i("v-icon",[t._v("mdi-view-comfy")]),i("span",[t._v("艦隊分析表示")])],1)],1)],1):i("div",{staticClass:"text-center my-10"},[i("div",[t._v("みつからないよ")])]),t.modeTable?i("div",{staticClass:"ship-table"},[t.viewShips.length?i("div",{staticClass:"ship-tr header",class:{asc:!t.isDesc}},[i("v-spacer"),i("div",{staticClass:"status-td",class:{sorted:"level"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("level")}}},[i("div",[i("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" Lv ")]),i("div",{staticClass:"status-td",class:{sorted:"hp"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("hp")}}},[i("div",[i("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" 耐久 ")]),i("div",{staticClass:"status-td",class:{sorted:"luck"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("luck")}}},[i("div",[i("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" 運 ")]),i("div",{staticClass:"status-td",class:{sorted:"asw"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("asw")}}},[i("div",[i("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" 対潜 ")]),i("div",{staticClass:"status-td",class:{sorted:"scout"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("scout")}}},[i("div",[i("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" 索敵 ")]),i("div",{staticClass:"status-td",class:{sorted:"acurracy"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("acurracy")}}},[i("div",[i("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" 命中項 ")]),i("div",{staticClass:"status-td",class:{sorted:"avoid"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("avoid")}}},[i("div",[i("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" 回避項 ")]),i("div",{staticClass:"status-td",class:{sorted:"ci"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("ci")}}},[i("div",[i("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" CI項 ")])],1):t._e(),t._l(t.shipList,(function(e,s){return i("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:"row_"+s,staticClass:"ship-tr",class:{no_ship:0===e.count,lv175:175===e.stockData.level,lv100:175!==e.stockData.level&&e.stockData.level>99,lv99:99===e.stockData.level},on:{click:function(i){return i.stopPropagation(),t.showEditDialog(e)}}},[i("div",{staticClass:"edit-stock-img"},[i("v-img",{attrs:{src:"./img/ship/"+e.ship.id+".png",height:"50",width:"200"}}),e.stockData.area>0&&e.stockData.area<=t.maxAreas?i("div",{staticClass:"area-banner mt-1"},[i("v-img",{attrs:{src:"./img/util/area"+e.stockData.area+".png",height:"60",width:"42"}})],1):t._e(),e.stockData.releaseExpand?i("div",{staticClass:"slot-ex-img"},[i("v-img",{attrs:{src:"./img/util/slot_ex.png",height:"36",width:"36"}})],1):t._e()],1),i("div",{staticClass:"ml-1 td-name text-truncate"},[t._v(t._s(e.ship.name))]),i("div",{staticClass:"status-td"},[t._v(t._s(e.stockData.level))]),i("div",{staticClass:"status-td td-relative",class:{bold:e.impHP}},[t._v(" "+t._s(e.hp)+" "),e.impHP?i("div",{staticClass:"status-td-absolute"},[t._v("↑"+t._s(e.impHP))]):t._e()]),i("div",{staticClass:"status-td td-relative",class:{bold:e.impLuck}},[t._v(" "+t._s(e.luck)+" "),e.impLuck?i("div",{staticClass:"status-td-absolute"},[t._v("↑"+t._s(e.impLuck))]):t._e()]),e.count?i("div",{staticClass:"status-td td-relative",class:{bold:e.impAsw}},[t._v(" "+t._s(e.asw)+" "),e.impAsw?i("div",{staticClass:"status-td-absolute"},[t._v("↑"+t._s(e.impAsw))]):t._e()]):t._e(),e.count?i("div",{staticClass:"status-td"},[t._v(t._s(e.scout))]):t._e(),e.count?i("div",{staticClass:"status-td"},[t._v(t._s(e.acurracy))]):t._e(),e.count?i("div",{staticClass:"status-td"},[t._v(t._s(e.avoid))]):t._e(),e.count?i("div",{staticClass:"status-td"},[t._v(t._s(e.ci))]):i("div",{staticClass:"status-td no-status d-flex"},[i("div",{staticClass:"line"}),i("div",[t._v("未着任")]),i("div",{staticClass:"line"})])])})),i("div",{staticClass:"d-flex"},[t.viewShips.length?i("v-pagination",{staticClass:"my-4",attrs:{length:t.pageLength},on:{input:t.scrollTop},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e(),i("v-spacer")],1)],2):[i("div",{staticClass:"d-flex flex-wrap"},t._l(t.altViewShips,(function(e,s){return i("div",{key:"type_row"+s,staticClass:"type-container"},[i("div",{staticClass:"ma-2"},[t._v(t._s(e.typeName))]),i("div",{staticClass:"type-divider"}),i("div",{staticClass:"d-flex flex-wrap"},t._l(e.rows,(function(e,s){return i("div",{key:"outer_row_"+s,staticClass:"ship-card ma-1 px-2 pt-2"},t._l(e,(function(e,s){return i("div",{key:"row_"+s,staticClass:"mt-1 mb-2"},[i("div",{staticClass:"d-flex"},[i("div",[t._v(t._s(e.master.name))]),i("v-spacer"),i("div",{staticClass:"caption align-self-end"},[t._v("在籍: "+t._s(e.count))])],1),i("div",{staticClass:"status-img",class:{no_ship:0===e.count}},[i("img",{staticClass:"status-img",attrs:{src:"./img/ship/"+e.master.id+".png"}})]),t._l(e.detail,(function(e,s){return i("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:"detail_"+s,staticClass:"detail-row ship-tr",class:{no_ship:0===e.count,lv175:175===e.stockData.level,lv100:175!==e.stockData.level&&e.stockData.level>99,lv99:99===e.stockData.level},on:{click:function(i){return i.stopPropagation(),t.showEditDialog(e)}}},[e.count?[i("div",{staticClass:"status-col sm"},[i("div",[t._v(t._s(e.level))])]),i("div",{staticClass:"status-col"},[i("img",{staticClass:"align-self-center",attrs:{src:"./img/util/status_hp.png",height:"16"}}),i("div",{staticClass:"align-self-center",class:{bold:e.impHP}},[t._v(t._s(e.hp))])]),i("div",{staticClass:"status-col"},[i("img",{staticClass:"align-self-center",attrs:{src:"./img/util/status_asw.png",height:"16"}}),i("div",{staticClass:"align-self-center",class:{bold:e.impAsw}},[t._v(t._s(e.asw))])]),i("div",{staticClass:"status-col"},[i("img",{staticClass:"align-self-center",attrs:{src:"./img/util/status_luck.png",height:"16"}}),i("div",{staticClass:"align-self-center",class:{bold:e.impLuck}},[t._v(t._s(e.luck))])]),i("div",{staticClass:"status-area-img",class:{"exist-img":e.stockData.area>0}},[e.stockData.area>0?i("img",{staticClass:"status-area-img",attrs:{src:"./img/util/area"+e.stockData.area+"_min.png"}}):t._e()]),i("div",{staticClass:"status-ex-img"},[e.stockData.releaseExpand?i("img",{staticClass:"status-ex-img",attrs:{src:"./img/util/slot_ex.png",height:"24",width:"24"}}):t._e()])]:[i("div",{staticClass:"mx-auto text-center no_ship"},[t._v("新規登録")])]],2)}))],2)})),0)})),0)])})),0)]],2)],1),i("v-tab-item",{attrs:{value:"analytics"}},[i("analytics")],1)],1),i("v-dialog",{attrs:{transition:"scroll-x-transition",width:"600"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[t.editRow&&t.versionButtons.length?i("v-card",{staticClass:"pa-3"},[i("div",{staticClass:"mx-2 mt-2"},[i("div",{staticClass:"d-flex"},[i("div",{staticClass:"align-self-center edit-stock-img"},[i("v-img",{attrs:{src:"./img/ship/"+t.versionButtons[t.version].id+".png",height:"50",width:"200"}}),t.editRow.stockData.area>0&&t.editRow.stockData.area<=t.maxAreas?i("div",{staticClass:"area-banner"},[i("v-img",{attrs:{src:"./img/util/area"+t.editRow.stockData.area+".png",height:"68",width:"47"}})],1):t._e()],1),i("div",{staticClass:"align-self-center ml-2"},[i("v-btn-toggle",{staticClass:"flex-wrap",attrs:{dense:"",borderless:"",mandatory:""},model:{value:t.version,callback:function(e){t.version=e},expression:"version"}},t._l(t.versionButtons,(function(e,s){return i("v-btn",{key:"ver"+s,staticStyle:{"text-transform":"none","font-size":"0.75em"},attrs:{value:s},on:{click:function(e){return e.stopPropagation(),t.changeVersion(s)}}},[i("span",{staticClass:"hidden-sm-and-down"},[t._v(t._s(e.name))])])})),1)],1)]),i("v-divider",{staticClass:"mt-3"}),i("div",{staticClass:"d-flex mt-3"},[i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"練度(Lv)",type:"number",max:"175",min:t.minLevel,"hide-details":""},model:{value:t.editRow.stockData.level,callback:function(e){t.$set(t.editRow.stockData,"level",e)},expression:"editRow.stockData.level"}})],1),i("v-slider",{staticClass:"mx-5 align-self-center",attrs:{"hide-details":"",max:"175",min:t.minLevel,"thumb-label":""},model:{value:t.editRow.stockData.level,callback:function(e){t.$set(t.editRow.stockData,"level",e)},expression:"editRow.stockData.level"}}),i("v-btn",{staticClass:"mr-1 align-self-center",attrs:{color:"teal",dark:""},on:{click:function(e){e.stopPropagation(),t.editRow.stockData.level=99}}},[t._v("LV99")])],1),i("div",{staticClass:"d-flex mt-8"},[i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"運",type:"number",max:t.versionButtons[t.version].maxLuck,min:t.versionButtons[t.version].luck,"hide-details":""},model:{value:t.editLuck,callback:function(e){t.editLuck=e},expression:"editLuck"}})],1),i("v-slider",{staticClass:"ml-5 align-self-center",attrs:{"hide-details":"",max:t.versionButtons[t.version].maxLuck,min:t.versionButtons[t.version].luck,"thumb-label":""},model:{value:t.editLuck,callback:function(e){t.editLuck=e},expression:"editLuck"}})],1),i("div",{staticClass:"d-flex mt-8"},[i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"耐久改修",type:"number",max:"2",min:"0","hide-details":""},model:{value:t.editRow.stockData.improvement.hp,callback:function(e){t.$set(t.editRow.stockData.improvement,"hp",e)},expression:"editRow.stockData.improvement.hp"}})],1),i("v-slider",{staticClass:"ml-5 align-self-center",attrs:{"hide-details":"",max:"2",min:"0","thumb-label":""},model:{value:t.editRow.stockData.improvement.hp,callback:function(e){t.$set(t.editRow.stockData.improvement,"hp",e)},expression:"editRow.stockData.improvement.hp"}})],1),i("div",{staticClass:"d-flex mt-8"},[i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"対潜改修",type:"number",max:"9",min:"0","hide-details":""},model:{value:t.editRow.stockData.improvement.asw,callback:function(e){t.$set(t.editRow.stockData.improvement,"asw",e)},expression:"editRow.stockData.improvement.asw"}})],1),i("v-slider",{staticClass:"ml-5 align-self-center",attrs:{"hide-details":"",max:"9",min:"0","thumb-label":""},model:{value:t.editRow.stockData.improvement.asw,callback:function(e){t.$set(t.editRow.stockData.improvement,"asw",e)},expression:"editRow.stockData.improvement.asw"}})],1),i("div",{staticClass:"mt-4 d-flex"},[i("v-checkbox",{attrs:{label:"補強増設開放済み"},model:{value:t.editRow.stockData.releaseExpand,callback:function(e){t.$set(t.editRow.stockData,"releaseExpand",e)},expression:"editRow.stockData.releaseExpand"}}),i("v-spacer"),t._l(t.maxAreas,(function(e){return i("div",{key:"area"+e,staticClass:"selected-area-btn",class:{selected:t.editRow.stockData.area===e},on:{click:function(i){return i.stopPropagation(),t.toggleArea(e)}}},[i("v-img",{attrs:{src:"./img/util/area"+e+".png",height:"68",width:"47"}})],1)}))],2),i("v-divider",{staticClass:"my-2"}),i("div",{staticClass:"d-flex"},[i("v-btn",{staticClass:"ml-auto",attrs:{disabled:t.btnPushed||t.readOnly,color:"info"},on:{click:function(e){return e.stopPropagation(),t.registStock.apply(null,arguments)}}},[t._v("着任")]),i("v-btn",{staticClass:"ml-4",attrs:{disabled:t.btnPushed||!t.editRow.stockData.uniqueId||t.readOnly,color:"success"},on:{click:function(e){return e.stopPropagation(),t.updateStock.apply(null,arguments)}}},[t._v(" 更新 ")]),i("v-btn",{staticClass:"ml-4",attrs:{disabled:!t.editRow.stockData.uniqueId||t.readOnly,color:"error"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!0}}},[t._v("除籍")]),i("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.editDialog=!1}}},[t._v("戻る")])],1)],1)]):t._e()],1),i("v-dialog",{attrs:{width:"400"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[i("v-card",{staticClass:"pa-3"},[i("div",{staticClass:"ma-4"},[i("div",[t._v("本当に除籍しますか？")])]),i("v-divider",{staticClass:"my-2"}),i("div",{staticClass:"d-flex"},[i("v-btn",{staticClass:"ml-auto",attrs:{color:"error",disabled:t.btnPushed,dark:""},on:{click:function(e){return e.stopPropagation(),t.deleteStock.apply(null,arguments)}}},[t._v("除籍")]),i("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!1}}},[t._v("やっぱやめとく")])],1)],1)],1)],1)},c=[],d=(i("fb6a"),i("b0c0"),i("7db0"),i("159b"),i("b64b"),i("4e82"),i("caad"),i("2532"),i("0481"),i("4069"),i("498a"),i("25f0"),i("c740"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-3"},[i("v-card",{staticClass:"my-2 pa-4"},[i("div",{staticClass:"d-flex mt-3"},[i("div",{staticClass:"align-self-center mr-5"},[t._v("集計対象Lv")]),i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"下限",type:"number",max:t.levelRange[1],min:"1",dense:"","hide-details":""},on:{input:function(e){return t.analyze()}},model:{value:t.levelRange[0],callback:function(e){t.$set(t.levelRange,0,"string"===typeof e?e.trim():e)},expression:"levelRange[0]"}})],1),i("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"1",max:"175","hide-details":""},on:{change:function(e){return t.analyze()}},model:{value:t.levelRange,callback:function(e){t.levelRange=e},expression:"levelRange"}}),i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"上限",type:"number",max:"175",min:t.levelRange[0],dense:"","hide-details":""},on:{input:function(e){return t.analyze()}},model:{value:t.levelRange[1],callback:function(e){t.$set(t.levelRange,1,"string"===typeof e?e.trim():e)},expression:"levelRange[1]"}})],1)],1),i("v-card",{staticClass:"my-3 px-3"},[i("table",[i("thead",[i("tr",[i("td",{staticClass:"text-left"},[t._v("艦種")]),i("td",[t._v("隻数")]),i("td",[t._v("最大Lv")]),i("td",[t._v("最小Lv")]),i("td",[t._v("平均Lv")]),i("td",[t._v("総経験値")]),i("td",[t._v("1隻平均")]),i("td",[t._v("経験値割合")])])]),i("tbody",t._l(t.summaryTable,(function(e,s){return i("tr",{key:"summary_row"+s},[i("td",{staticClass:"text-left"},[t._v(t._s(e.name))]),i("td",[t._v(t._s(e.data.count))]),i("td",[t._v(t._s(e.data.maxLevel))]),i("td",[t._v(t._s(e.data.minLevel))]),i("td",[t._v(t._s(e.data.avgLevel))]),i("td",[t._v(t._s(e.data.sumExp))]),i("td",[t._v(t._s(e.data.avgExp))]),i("td",[t._v(t._s(e.data.expRate)+" %")])])})),0)])])],1)],1)}),u=[],v=(i("b680"),i("522d")),p=l["default"].extend({name:"Analytics",data:function(){return{levelRange:[1,175],summaryTable:[],unsbscribe:void 0,readOnly:!1}},mounted:function(){var t=this;this.$store.getters.getExistsTempStock&&(this.readOnly=!0),this.analyze(),this.unsbscribe=this.$store.subscribe((function(e){"updateShipStock"===e.type&&t.analyze()}))},watch:{isTempStockMode:function(t){this.readOnly=!!t,this.analyze()}},computed:{completed:function(){return this.$store.getters.getCompleted},isTempStockMode:function(){return this.$store.getters.getExistsTempStock}},beforeDestroy:function(){this.unsbscribe&&this.unsbscribe()},methods:{analyze:function(){var t=this,e=this.$store.state.ships,i=this.$store.state.shipStock;this.readOnly&&(i=this.$store.state.tempShipStock);for(var s=v["h"].SHIP_TYPES_ALT2,a=[],n=0,l=0,r=function(r){var c=s[r],d=e.filter((function(t){return c.types.includes(t.type)})).map((function(t){return t.id})),u=i.filter((function(e){return d.includes(e.id)&&e.level>=t.levelRange[0]&&e.level<=t.levelRange[1]}));if(u.length){var v=u.map((function(t){return t.level})),p=u.map((function(t){return t.exp})),h=o["sum"](p);n+=h,l+=o["sum"](v);var m={count:u.length,maxLevel:o["max"](v),minLevel:o["min"](v),avgLevel:o["mean"](v),sumExp:h,avgExp:o["mean"](p),expRate:0};a.push({name:c.text,data:m})}else{var f={count:0,maxLevel:0,minLevel:0,avgLevel:0,sumExp:0,avgExp:0,expRate:0};a.push({name:c.text,data:f})}},c=0;c<s.length;c+=1)r(c);this.summaryTable=[];for(var d=0;d<a.length;d+=1){var u=a[d];this.summaryTable.push({name:u.name,data:{count:u.data.count,maxLevel:u.data.maxLevel,minLevel:u.data.minLevel,avgLevel:u.data.avgLevel.toFixed(1),sumExp:u.data.sumExp.toLocaleString(),avgExp:Math.floor(u.data.avgExp).toLocaleString(),expRate:Math.floor(1e3*u.data.sumExp/n)/10}})}var p=o["sum"](a.map((function(t){return t.data.count})));this.summaryTable.push({name:"合計",data:{count:p,maxLevel:o["max"](a.map((function(t){return t.data.maxLevel}))),minLevel:o["min"](a.map((function(t){return t.data.minLevel}))),avgLevel:(l/p).toFixed(1),sumExp:n.toLocaleString(),avgExp:Math.floor(n/p).toLocaleString(),expRate:100}})}}}),h=p,m=(i("3f84"),i("2877")),f=i("6544"),g=i.n(f),b=i("b0af"),k=i("2909"),x=i("ade3"),y=i("5530"),_=(i("a9e3"),i("33e9"),i("9a18")),C=i("80d2"),S=_["a"].extend({name:"v-range-slider",props:{value:{type:Array,default:function(){return[0,0]}}},data:function(){return{activeThumb:null,lazyValue:this.value}},computed:{classes:function(){return Object(y["a"])(Object(y["a"])({},_["a"].options.computed.classes.call(this)),{},{"v-input--range-slider":!0})},internalValue:{get:function(){return this.lazyValue},set:function(t){var e=this,i=t.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e.roundValue(Math.min(Math.max(t,e.minValue),e.maxValue))}));if(i[0]>i[1]||i[1]<i[0]){if(null!==this.activeThumb){var s=1===this.activeThumb?0:1,a=this.$refs["thumb_".concat(s)];a.focus()}i=[i[1],i[0]]}this.lazyValue=i,Object(C["j"])(i,this.value)||this.$emit("input",i),this.validate()}},inputWidth:function(){var t=this;return this.internalValue.map((function(e){return(t.roundValue(e)-t.minValue)/(t.maxValue-t.minValue)*100}))}},methods:{getTrackStyle:function(t,e){var i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=this.vertical?this.$vuetify.rtl?"top":"bottom":this.$vuetify.rtl?"right":"left",l=this.vertical?"height":"width",o="calc(".concat(t,"% + ").concat(s,"px)"),r="calc(".concat(e,"% + ").concat(a,"px)");return i={transition:this.trackTransition},Object(x["a"])(i,n,o),Object(x["a"])(i,l,r),i},getIndexOfClosestValue:function(t,e){return Math.abs(t[0]-e)<Math.abs(t[1]-e)?0:1},genInput:function(){var t=this;return Object(C["h"])(2).map((function(e){var i=_["a"].options.methods.genInput.call(t);return i.data=i.data||{},i.data.attrs=i.data.attrs||{},i.data.attrs.value=t.internalValue[e],i.data.attrs.id="input-".concat(e?"max":"min","-").concat(t._uid),i}))},genTrackContainer:function(){var t=this,e=[],i=this.isDisabled?10:0,s=[{class:"v-slider__track-background",color:this.computedTrackColor,styles:[0,this.inputWidth[0],0,-i]},{class:this.isDisabled?"v-slider__track-background":"v-slider__track-fill",color:this.isDisabled?this.computedTrackColor:this.computedTrackFillColor,styles:[this.inputWidth[0],Math.abs(this.inputWidth[1]-this.inputWidth[0]),i,-2*i]},{class:"v-slider__track-background",color:this.computedTrackColor,styles:[this.inputWidth[1],Math.abs(100-this.inputWidth[1]),i,-i]}];return this.$vuetify.rtl&&s.reverse(),e.push.apply(e,Object(k["a"])(s.map((function(e){return t.$createElement("div",t.setBackgroundColor(e.color,{staticClass:e.class,style:t.getTrackStyle.apply(t,Object(k["a"])(e.styles))}))})))),this.$createElement("div",{staticClass:"v-slider__track-container",ref:"track"},e)},genChildren:function(){var t=this;return[this.genInput(),this.genTrackContainer(),this.genSteps(),Object(C["h"])(2).map((function(e){var i=t.internalValue[e],s=function(i){t.isFocused=!0,t.activeThumb=e,t.$emit("focus",i)},a=function(e){t.isFocused=!1,t.activeThumb=null,t.$emit("blur",e)},n=t.inputWidth[e],l=t.isActive&&t.activeThumb===e,o=t.isFocused&&t.activeThumb===e;return t.genThumbContainer(i,n,l,o,s,a,"thumb_".concat(e))}))]},reevaluateSelected:function(t){this.activeThumb=this.getIndexOfClosestValue(this.internalValue,t);var e="thumb_".concat(this.activeThumb),i=this.$refs[e];i.focus()},onSliderMouseDown:function(t){var e,i=this,s=this.parseMouseMove(t);if(this.reevaluateSelected(s),this.oldValue=this.internalValue,this.isActive=!0,null!=(e=t.target)&&e.matches(".v-slider__thumb-container, .v-slider__thumb-container *")){this.thumbPressed=!0;var a=t.target.getBoundingClientRect(),n="touches"in t?t.touches[0]:t;this.startOffset=this.vertical?n.clientY-(a.top+a.height/2):n.clientX-(a.left+a.width/2)}else this.startOffset=0,window.clearTimeout(this.mouseTimeout),this.mouseTimeout=window.setTimeout((function(){i.thumbPressed=!0}),300);var l=!C["x"]||{passive:!0,capture:!0},o=!!C["x"]&&{passive:!0},r="touches"in t;this.onMouseMove(t),this.app.addEventListener(r?"touchmove":"mousemove",this.onMouseMove,o),Object(C["a"])(this.app,r?"touchend":"mouseup",this.onSliderMouseUp,l),this.$emit("start",this.internalValue)},onSliderClick:function(t){if(!this.isActive){if(this.noClick)return void(this.noClick=!1);var e=this.parseMouseMove(t);this.reevaluateSelected(e),this.setInternalValue(e),this.$emit("change",this.internalValue)}},onMouseMove:function(t){var e=this.parseMouseMove(t);"mousemove"===t.type&&(this.thumbPressed=!0),null===this.activeThumb&&(this.activeThumb=this.getIndexOfClosestValue(this.internalValue,e)),this.setInternalValue(e)},onKeyDown:function(t){if(null!==this.activeThumb){var e=this.parseKeyDown(t,this.internalValue[this.activeThumb]);null!=e&&(this.setInternalValue(e),this.$emit("change",this.internalValue))}},setInternalValue:function(t){var e=this;this.internalValue=this.internalValue.map((function(i,s){return s===e.activeThumb?t:Number(i)}))}}}),w=i("8654"),R=Object(m["a"])(h,d,u,!1,null,"1f90f86f",null),T=R.exports;g()(R,{VCard:b["a"],VRangeSlider:S,VTextField:w["a"]});var L=i("331b"),D=i("c3af"),I=i("ac07"),$=l["default"].extend({name:"Ships",components:{Analytics:T},data:function(){return{all:[],filteredShips:[],viewShips:[],shipStock:[],page:1,searchWord:"",onlyStock:!1,onlyNoStock:!1,onlyReleaseExSlot:!1,is4n:!1,isDiahatsu:!1,isKamisha:!1,luckRange:[1,200],levelRange:[1,175],aswRange:[0,9],okDaihatsu:[],okKamisha:[],hpItems:[],addHP:[],aswItems:[],addASW:[],types:[],selectedTypes:[],editDialog:!1,editRow:{},versionButtons:[],version:0,editLuck:0,sortKey:"",isDesc:!1,maxAreas:v["h"].EnabledAreaCount,confirmDialog:!1,unsbscribe:void 0,btnPushed:!1,allCount:0,modeTable:!0,setting:new I["a"],selectedArea:[],visibleNoArea:!0,readOnly:!1,tab:"list"}},mounted:function(){var t=this;this.$store.getters.getExistsTempStock&&(this.readOnly=!0),this.initialize(),this.unsbscribe=this.$store.subscribe((function(e,i){"updateShipStock"===e.type&&(t.shipStock=i.shipStock,t.masterFilter(),t.editDialog=!1)}))},watch:{completed:function(t){t&&!this.all.length&&this.initialize()},isTempStockMode:function(t){this.readOnly=!!t,this.initialize()}},computed:{completed:function(){return this.$store.getters.getCompleted},isTempStockMode:function(){return this.$store.getters.getExistsTempStock},selectedAllType:function(){return this.selectedTypes.length===this.types.length},selectedSomeType:function(){return this.selectedTypes.length>0&&!this.selectedAllType},icon:function(){return this.selectedAllType?"mdi-close-box":this.selectedSomeType?"mdi-minus-box":"mdi-checkbox-blank-outline"},shipList:function(){var t=100*(this.page-1);return this.viewShips.slice(t,t+100)},pageLength:function(){return Math.ceil(this.viewShips.length/100)},minLevel:function(){var t=this.versionButtons[this.version];if(!t||t.beforId<=0||"山城改二"===t.name)return 1;var e=this.all.find((function(e){return e.id===t.beforId}));return e?e.nextLv:1},altViewShips:function(){var t=this.viewShips;if(!t.length)return[];for(var e=[],i=function(i){var s=t[i],a=e.find((function(t){return t.master.id===s.ship.id}));a?(a.count+=1,a.detail.push(s)):e.push({master:s.ship,count:s.count,detail:[s]})},s=0;s<t.length;s+=1)i(s);for(var a=v["h"].SHIP_TYPES_ALT_INFO,n=[],l=function(t){var i=a[t],s=e.filter((function(t){return t.master.type2===i.id}));if(s.length){var l=o["groupBy"](s,(function(t){return t.master.originalId})),r=[];Object.keys(l).forEach((function(t){return r.push(l[t])})),r.sort((function(t,e){var i=o["min"](t.map((function(t){return t.master.sort}))),s=o["min"](e.map((function(t){return t.master.sort})));return(i||0)-(s||0)})),n.push({typeName:i.name,rows:r})}},r=0;r<a.length;r+=1)l(r);return n}},beforeDestroy:function(){this.unsbscribe&&this.unsbscribe()},methods:{initialize:function(){var t=this;this.all=this.$store.state.ships,this.shipStock=this.$store.state.shipStock,this.readOnly&&(this.shipStock=this.$store.state.tempShipStock),this.shipStock.length&&(this.onlyStock=!0);for(var e=function(e){var i=t.all[e],s=i.id,a=i.type,n=t.$store.state.equipShips,l=n.find((function(t){return t.api_ship_id===s})),o=v["h"].SHIP_TYPES_INFO.find((function(t){return t.id===a}));(l&&l.api_equip_type.includes(24)||o&&o.itemType.includes(24))&&t.okDaihatsu.push(s),(l&&l.api_equip_type.includes(46)||o&&o.itemType.includes(46))&&t.okKamisha.push(s)},i=0;i<this.all.length;i+=1)e(i);var s=v["h"].SHIP_TYPES_ALT;this.types=[],this.selectedTypes=[];for(var a=0;a<s.length;a+=1)this.types.push({text:s[a].text,value:a}),this.selectedTypes.push(a);this.addHP=[];for(var n=0;n<=2;n+=1)this.hpItems.push({text:"+".concat(n),value:n}),this.addHP.push(n);this.masterFilter(),this.setting=this.$store.state.siteSetting,this.changeViewMode(this.setting.viewTableMode),this.selectedArea=[];for(var l=0;l<=this.maxAreas;l+=1)this.selectedArea.push(l);this.filter()},filter:function(){for(var t=this,e=this.filteredShips,i=this.shipStock,s=[],a=this.levelRange[1],n=this.levelRange[0],l=this.luckRange[1],o=this.luckRange[0],r=this.aswRange[1],c=this.aswRange[0],d=this.addHP,u=this.selectedTypes,p=v["h"].SHIP_TYPES_ALT.filter((function(t,e){return u.includes(e)})).map((function(t){return t.types})).flat(),h=0,m=e.filter((function(t){return 0===t.version})),f=function(u){var v=m[u],f=e.filter((function(t){return t.originalId===v.albumId})),g=f.map((function(t){return t.id})),b=i.filter((function(t){return g.includes(t.id)})),k=[];if(b.length){if(!t.onlyNoStock){for(var x=function(e){var i=b[e];if(h+=1,i.level<n||i.level>a)return"continue";if(i.improvement.asw<c||i.improvement.asw>r)return"continue";if(!d.includes(i.improvement.hp))return"continue";var s=f.find((function(t){return t.id===i.id})),u=i.improvement.hp+(i.level>99?s.hp2:s.hp),v=i.improvement.luck+s.luck;if(!p.includes(s.type))return"continue";if(v<o||v>l)return"continue";if(t.is4n&&u%4>0)return"continue";if(t.isDiahatsu&&!t.okDaihatsu.includes(s.id))return"continue";if(t.isKamisha&&!t.okKamisha.includes(s.id))return"continue";if(t.onlyReleaseExSlot&&!i.releaseExpand)return"continue";if(!t.visibleNoArea&&i.area<1)return"continue";if(t.selectedArea.length&&!t.selectedArea.includes(i.area))return"continue";var m=D["a"].getStatusFromLevel(i.level,s.maxAvoid,s.minAvoid);k.push({count:1,ship:s,stockData:i,level:i.level,hp:u,luck:v,impHP:i.improvement.hp,impLuck:i.improvement.luck,impAsw:i.improvement.asw,asw:D["a"].getStatusFromLevel(i.level,s.maxAsw,s.minAsw)+i.improvement.asw,scout:D["a"].getStatusFromLevel(i.level,s.maxScout,s.minScout),acurracy:D["a"].getAccuracyValue(i.level,v),avoid:D["a"].getAvoidValue(m,v),ci:D["a"].getCIValue(i.level,v)})},y=0;y<b.length;y+=1)x(y);k.sort((function(t,e){return t.ship.version===e.ship.version?e.stockData.level-t.stockData.level:t.ship.version-e.ship.version}))}}else{if(h+=1,!p.includes(v.type))return"continue";if(t.onlyStock)return"continue";if(t.is4n&&v.hp%4>0)return"continue";if(t.isDiahatsu&&!t.okDaihatsu.includes(v.id))return"continue";if(t.isKamisha&&!t.okKamisha.includes(v.id))return"continue";if(t.onlyReleaseExSlot)return"continue";if(!t.visibleNoArea)return"continue";k.push({count:0,ship:v,stockData:new L["a"],hp:v.hp,luck:v.luck,impHP:0,impLuck:0,impAsw:0,level:0,asw:-1,scout:-1,acurracy:-1,avoid:-1,ci:-1})}s=s.concat(k)},g=0;g<m.length;g+=1)f(g);this.allCount=h,this.sortRowData(s);var b=Math.ceil(s.length/100);this.page=this.page>b?b:this.page,this.page=this.page<1&&b>0?1:this.page,this.viewShips=s},masterFilter:function(){var t=this.searchWord?this.searchWord.trim():"";this.filteredShips=this.all.filter((function(e){return!(t&&t!==e.id.toString()&&e.name.indexOf(t)<0)})),this.filter()},toggleAllType:function(){var t=this;this.$nextTick((function(){t.selectedAllType?t.selectedTypes=[]:t.selectedTypes=t.types.map((function(t){return t.value})).slice(),t.masterFilter()}))},clickedArea:function(t){-1===t?this.visibleNoArea=!this.visibleNoArea:this.selectedArea.includes(t)?this.selectedArea=this.selectedArea.filter((function(e){return e!==t})):this.selectedArea.push(t),this.filter()},scrollTop:function(){var t=document.getElementsByClassName("v-pagination")[0];window.scrollTo(0,t.getBoundingClientRect().y+window.pageYOffset-80)},changeVersion:function(t){this.version=t},showEditDialog:function(t){this.editRow=o["cloneDeep"](t);var e=this.all.filter((function(e){return e.originalId===t.ship.originalId})).sort((function(t,e){return t.version-e.version}));this.version=e.findIndex((function(e){return e.id===t.ship.id})),this.versionButtons=e,this.editLuck=t.luck,this.editDialog=!0,this.btnPushed=!1},toggleArea:function(t){this.editRow.stockData.area=this.editRow.stockData.area!==t?t:0},getNewStock:function(){var t=this.editRow.stockData,e=this.versionButtons[this.version];t.id=e.id,t.improvement.luck=this.editLuck-e.luck;var i=v["h"].LEVEL_BORDERS.find((function(e){return e.lv===t.level}));return t.exp=i?i.req:0,o["cloneDeep"](t)},registStock:function(){this.btnPushed=!0;var t=this.$store.state.shipStock,e=o["max"](t.map((function(t){return t.uniqueId})));void 0===e&&(e=1);var i=this.getNewStock();i.uniqueId=e+1,t.push(i),this.$store.dispatch("updateShipStock",t),this.shipStock=t},updateStock:function(){this.btnPushed=!0;var t=this.$store.state.shipStock,e=this.getNewStock(),i=t.findIndex((function(t){return t.uniqueId===e.uniqueId}));i>=0&&(t[i]=e,this.$store.dispatch("updateShipStock",t),this.shipStock=t)},deleteStock:function(){this.btnPushed=!0,this.confirmDialog=!1;var t=this.editRow.stockData.uniqueId,e=this.$store.state.shipStock,i=e.filter((function(e){return e.uniqueId!==t}));this.$store.dispatch("updateShipStock",i),this.shipStock=e},toggleSortKey:function(t){this.sortKey!==t?(this.isDesc=!0,this.sortKey=t):this.sortKey===t&&this.isDesc?this.isDesc=!1:this.sortKey!==t||this.isDesc||(this.sortKey=""),this.sortRowData(this.viewShips)},sortRowData:function(t){var e=this.isDesc,i=this.sortKey;this.sortKey?t.sort((function(t,s){return(e?-1:1)*(t[i]-s[i])})):t.sort((function(t,e){return t.ship.sort-e.ship.sort}))},changeViewMode:function(t){this.modeTable=t,this.setting.viewTableMode=t,this.$store.dispatch("updateSetting",this.setting)}}}),V=$,A=(i("b9e6"),i("8336")),O=i("a609"),P=i("ac7c"),E=i("169a"),j=i("ce7e"),M=i("4e82c"),H=i("3206"),B=i("58df"),U=Object(B["a"])(Object(M["a"])("expansionPanels","v-expansion-panel","v-expansion-panels"),Object(H["b"])("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data:function(){return{content:null,header:null,nextIsActive:!1}},computed:{classes:function(){return Object(y["a"])({"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled},this.groupClasses)},isDisabled:function(){return this.expansionPanels.disabled||this.disabled},isReadonly:function(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent:function(t){this.content=t},unregisterContent:function(){this.content=null},registerHeader:function(t){this.header=t,t.$on("click",this.onClick)},unregisterHeader:function(){this.header=null},onClick:function(t){t.detail&&this.header.$el.blur(),this.$emit("click",t),this.isReadonly||this.isDisabled||this.toggle()},toggle:function(){var t=this;this.$nextTick((function(){return t.$emit("change")}))}},render:function(t){return t("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},Object(C["p"])(this))}}),K=i("0789"),N=i("9d65"),F=i("a9ad"),z=Object(B["a"])(N["a"],F["a"],Object(H["a"])("expansionPanel","v-expansion-panel-content","v-expansion-panel")),W=z.extend().extend({name:"v-expansion-panel-content",data:function(){return{isActive:!1}},computed:{parentIsActive:function(){return this.expansionPanel.isActive}},watch:{parentIsActive:{immediate:!0,handler:function(t,e){var i=this;t&&(this.isBooted=!0),null==e?this.isActive=t:this.$nextTick((function(){return i.isActive=t}))}}},created:function(){this.expansionPanel.registerContent(this)},beforeDestroy:function(){this.expansionPanel.unregisterContent()},render:function(t){var e=this;return t(K["a"],this.showLazyContent((function(){return[t("div",e.setBackgroundColor(e.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:e.isActive}]}),[t("div",{class:"v-expansion-panel-content__wrap"},Object(C["p"])(e))])]})))}}),q=i("9d26"),Y=i("5607"),J=Object(B["a"])(F["a"],Object(H["a"])("expansionPanel","v-expansion-panel-header","v-expansion-panel")),X=J.extend().extend({name:"v-expansion-panel-header",directives:{ripple:Y["a"]},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{hasMousedown:!1}},computed:{classes:function(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive:function(){return this.expansionPanel.isActive},isDisabled:function(){return this.expansionPanel.isDisabled},isReadonly:function(){return this.expansionPanel.isReadonly}},created:function(){this.expansionPanel.registerHeader(this)},beforeDestroy:function(){this.expansionPanel.unregisterHeader()},methods:{onClick:function(t){this.$emit("click",t)},genIcon:function(){var t=Object(C["p"])(this,"actions")||[this.$createElement(q["a"],this.expandIcon)];return this.$createElement(K["d"],[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},t)])}},render:function(t){var e=this;return t("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button","aria-expanded":this.isActive},directives:[{name:"ripple",value:this.ripple}],on:Object(y["a"])(Object(y["a"])({},this.$listeners),{},{click:this.onClick,mousedown:function(){return e.hasMousedown=!0},mouseup:function(){return e.hasMousedown=!1}})}),[Object(C["p"])(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}}),G=(i("210b"),i("604c")),Q=i("d9bd"),Z=G["a"].extend({name:"v-expansion-panels",provide:function(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes:function(){return Object(y["a"])(Object(y["a"])({},G["a"].options.computed.classes.call(this)),{},{"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile})}},created:function(){this.$attrs.hasOwnProperty("expand")&&Object(Q["a"])("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"===typeof this.value[0]&&Object(Q["a"])(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem:function(t,e){var i=this.getValue(t,e),s=this.getValue(t,e+1);t.isActive=this.toggleMethod(i),t.nextIsActive=this.toggleMethod(s)}}}),tt=i("132d"),et=i("adda"),it=i("da13"),st=i("1800"),at=i("5d23"),nt=(i("17b3"),i("dc22")),lt=i("de2c"),ot=i("7560"),rt=Object(B["a"])(F["a"],Object(lt["a"])({onVisible:["init"]}),ot["a"]).extend({name:"v-pagination",directives:{Resize:nt["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:function(t){return t%1===0}},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data:function(){return{maxButtons:0,selected:null}},computed:{classes:function(){return Object(y["a"])({"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled},this.themeClasses)},items:function(){var t=parseInt(this.totalVisible,10);if(0===t)return[];var e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);var i=e%2===0?1:0,s=Math.floor(e/2),a=this.length-s+1+i;if(this.value>s&&this.value<a){var n=1,l=this.length,o=this.value-s+2,r=this.value+s-2-i,c=o-1===n+1?2:"...",d=r+1===l-1?r+1:"...";return[1,c].concat(Object(k["a"])(this.range(o,r)),[d,this.length])}if(this.value===s){var u=this.value+s-1-i;return[].concat(Object(k["a"])(this.range(1,u)),["...",this.length])}if(this.value===a){var v=this.value-s+1;return[1,"..."].concat(Object(k["a"])(this.range(v,this.length)))}return[].concat(Object(k["a"])(this.range(1,s)),["..."],Object(k["a"])(this.range(a,this.length)))}},watch:{value:function(){this.init()}},beforeMount:function(){this.init()},methods:{init:function(){var t=this;this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout((function(){return t.selected=t.value}),100)},onResize:function(){var t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next:function(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous:function(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range:function(t,e){var i=[];t=t>0?t:1;for(var s=t;s<=e;s++)i.push(s);return i},genIcon:function(t,e,i,s,a){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":i},attrs:{disabled:i,type:"button","aria-label":a},on:i?{}:{click:s}},[t(q["a"],[e])])])},genItem:function(t,e){var i=this,s=e===this.value&&(this.color||"primary"),a=e===this.value,n=a?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(s,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":a,"aria-label":this.$vuetify.lang.t(n,e)},on:{click:function(){return i.$emit("input",e)}}}),[e.toString()])},genItems:function(t){var e=this;return this.items.map((function(i,s){return t("li",{key:s},[isNaN(Number(i))?t("span",{class:"v-pagination__more"},[i.toString()]):e.genItem(t,i)])}))},genList:function(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render:function(t){var e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}}),ct=i("b974"),dt=i("ba0d"),ut=i("2fa4"),vt=i("71a3"),pt=i("c671"),ht=i("fe57"),mt=i("aac8"),ft=i("269a"),gt=i.n(ft),bt=Object(m["a"])(V,r,c,!1,null,"52cbc09f",null),kt=bt.exports;g()(bt,{VBtn:A["a"],VBtnToggle:O["a"],VCard:b["a"],VCheckbox:P["a"],VDialog:E["a"],VDivider:j["a"],VExpansionPanel:U,VExpansionPanelContent:W,VExpansionPanelHeader:X,VExpansionPanels:Z,VIcon:tt["a"],VImg:et["a"],VListItem:it["a"],VListItemAction:st["a"],VListItemContent:at["a"],VListItemTitle:at["b"],VPagination:rt,VRangeSlider:S,VSelect:ct["a"],VSlider:dt["a"],VSpacer:ut["a"],VTab:vt["a"],VTabItem:pt["a"],VTabs:ht["a"],VTabsItems:mt["a"],VTextField:w["a"]}),gt()(bt,{Ripple:Y["a"]});var xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-3 ships-page"},[i("v-expansion-panels",[i("v-expansion-panel",[i("v-expansion-panel-header",{staticClass:"px-4"},[i("div",[i("v-icon",[t._v("mdi-filter")]),t._v("フィルタ")],1)]),i("v-expansion-panel-content",[i("v-divider",{staticClass:"mb-3"}),i("div",{staticClass:"range-inputs"},[i("div",{staticClass:"d-flex my-4"},[i("v-text-field",{staticClass:"search-input",attrs:{label:"id 名称検索",dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-magnify"},on:{input:t.filter},model:{value:t.searchWord,callback:function(e){t.searchWord="string"===typeof e?e.trim():e},expression:"searchWord"}}),i("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:"未所持装備非表示"},on:{change:t.filter},model:{value:t.onlyStock,callback:function(e){t.onlyStock=e},expression:"onlyStock"}})],1),i("div",{staticClass:"d-flex my-4"},[i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"改修下限",type:"number",max:t.remodelRange[1],min:"0",dense:"","hide-details":""},on:{input:t.filter},model:{value:t.remodelRange[0],callback:function(e){t.$set(t.remodelRange,0,"string"===typeof e?e.trim():e)},expression:"remodelRange[0]"}})],1),i("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"0",max:"10","hide-details":""},on:{change:t.filter},model:{value:t.remodelRange,callback:function(e){t.remodelRange=e},expression:"remodelRange"}}),i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"改修上限",type:"number",max:"10",min:t.remodelRange[0],dense:"","hide-details":""},on:{input:t.filter},model:{value:t.remodelRange[1],callback:function(e){t.$set(t.remodelRange,1,"string"===typeof e?e.trim():e)},expression:"remodelRange[1]"}})],1)],1)]),i("v-select",{staticClass:"my-10",attrs:{items:t.types,"hide-details":"",dense:"",attach:"",chips:"","deletable-chips":"",label:"カテゴリ",multiple:""},on:{change:t.masterFilter},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[i("v-list-item",{attrs:{ripple:""},on:{mousedown:function(t){t.preventDefault()},click:t.toggleAllType}},[i("v-list-item-action",[i("v-icon",{attrs:{color:t.selectedTypes.length>0?"blue":""}},[t._v(" "+t._s(t.icon)+" ")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("全選択")])],1)],1),i("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.selectedTypes,callback:function(e){t.selectedTypes=e},expression:"selectedTypes"}}),i("div",[i("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:"総所持数表示"},model:{value:t.visibleAllCount,callback:function(e){t.visibleAllCount=e},expression:"visibleAllCount"}})],1)],1)],1)],1),t.viewItems.length?i("div",{staticClass:"item-all-container mt-3"},t._l(t.viewItems,(function(e,s){return i("v-card",{key:s,staticClass:"py-1"},[i("div",{staticClass:"ma-1 d-flex"},[i("div",{staticClass:"type-img"},[i("img",{attrs:{src:"./img/type/type"+e.type.id+".png"}})]),i("div",{staticClass:"ml-1 align-self-center"},[t._v(t._s(e.type.name))]),i("v-spacer"),e.type.sortKey?i("div",[i("v-menu",{attrs:{"offset-y":"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,a=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",a,!1),s),[i("v-icon",[t._v("mdi-sort")])],1)]}}],null,!0)},[i("v-card",[i("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"sort-key",on:{click:function(i){return t.sortItems(e.items,"id")}}},[t._v("図鑑ID")]),t._l(e.type.sortKey,(function(a,n){return i("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:"type"+s+"Key"+n,staticClass:"sort-key",on:{click:function(i){return t.sortItems(e.items,a)}}},[t._v(" "+t._s(t.convertStatusString(a))+" ")])}))],2)],1)],1):t._e()],1),i("v-divider"),t._l(e.items,(function(e,a){return i("div",{key:""+s+a},[i("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"item-container",class:{"no-item":!e.allCount},on:{click:function(i){return t.clickItem(e.master)},mouseenter:function(i){return t.bootTooltip(e.master,i)},mouseleave:t.clearTooltip}},[i("div",{staticClass:"d-flex align-self-start flex-grow-1"},[i("div",{staticClass:"icon-img"},[i("img",{attrs:{src:"./img/type/icon"+e.master.iconTypeId+".png"}})]),i("div",{staticClass:"item-name flex-grow-1"},[t._v(t._s(e.master.name))])]),i("div",{staticClass:"detail-container"},[t.visibleAllCount&&!t.remodelRange[0]?i("div",{staticClass:"primary--text count-text"},[t._v(t._s(e.allCount))]):t._e(),t._l(e.details,(function(e,n){return i("div",{key:""+s+a+n,staticClass:"d-flex remodel-container"},[e.remodel?i("div",{staticClass:"item-remodel teal--text text--accent-4"},[t._v("★"+t._s(e.remodel))]):t._e(),i("div",{staticClass:"ml-auto"},[t._v(t._s(e.count))])])}))],2)])])}))],2)})),1):i("v-card",{staticClass:"my-3 pa-4"},[i("div",{staticClass:"text-center my-10"},[i("div",[t._v("みつからないよ")])])]),t.edittedItem?i("v-dialog",{attrs:{transition:"scroll-x-transition",width:"600"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[i("v-card",{staticClass:"pa-3"},[i("div",{staticClass:"mx-2 mb-2"},[i("div",{staticClass:"d-flex"},[i("div",{staticClass:"align-self-center"},[i("v-img",{attrs:{src:"./img/type/icon"+t.edittedItem.iconTypeId+".png",width:"40",height:"40"}})],1),i("div",{staticClass:"align-self-center ml-1"},[i("div",{staticClass:"caption info--text"},[t._v("ID: "+t._s(t.edittedItem.id))]),i("div",{staticClass:"body-2"},[t._v(t._s(t.edittedItem.name))])])])]),i("v-divider"),i("div",{staticClass:"ma-3"},[i("div",{staticClass:"caption"},[t._v("所持数")]),i("div",{staticClass:"stock-inputs"},[t._l(t.edittedStock,(function(e,s){return i("v-text-field",{key:"stock$"+s,staticClass:"stock-input",attrs:{type:"number",max:"999",min:"0",label:"★+"+s,"hide-details":"",readonly:t.readOnly},model:{value:t.edittedStock[s],callback:function(e){t.$set(t.edittedStock,s,t._n(e))},expression:"edittedStock[i]"}})})),i("v-text-field",{staticClass:"stock-input",attrs:{type:"number",readonly:"",label:"合計"},model:{value:t.sumStock,callback:function(e){t.sumStock=t._n(e)},expression:"sumStock"}})],2)]),i("v-divider",{staticClass:"mb-2"}),i("div",{staticClass:"d-flex"},[i("v-btn",{staticClass:"ml-auto",attrs:{color:"success",disabled:t.readOnly},on:{click:function(e){return e.stopPropagation(),t.registStock.apply(null,arguments)}}},[t._v("更新")]),i("v-btn",{staticClass:"ml-4",attrs:{disabled:!t.sumStock||t.readOnly,color:"error"},on:{click:function(e){return e.stopPropagation(),t.clearStock.apply(null,arguments)}}},[t._v("全破棄")]),i("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.editDialog=!1}}},[t._v("戻る")])],1)],1)],1):t._e(),i("v-tooltip",{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[i("item-tooltip",{model:{value:t.tooltipItem,callback:function(e){t.tooltipItem=e},expression:"tooltipItem"}})],1)],1)},yt=[],_t=i("ff07"),Ct=i("01fd"),St=i("0f16"),wt=i("5802"),Rt=l["default"].extend({name:"Items",components:{ItemTooltip:_t["a"]},data:function(){return{all:[],itemStock:[],searchWord:"",onlyStock:!1,visibleAllCount:!0,remodelRange:[0,10],selectedTypes:[],types:[],baseViewItems:[],viewItems:[],editDialog:!1,edittedItem:void 0,edittedStock:[0,0,0,0,0,0,0,0,0,0,0],unsbscribe:void 0,enabledTooltip:!1,tooltipTimer:void 0,tooltipItem:new St["a"],tooltipX:0,tooltipY:0,readOnly:!1}},mounted:function(){var t=this;this.$store.getters.getExistsTempStock&&(this.readOnly=!0),this.initialize(),this.unsbscribe=this.$store.subscribe((function(e,i){"updateItemStock"===e.type&&(t.itemStock=i.itemStock,t.masterFilter(),t.editDialog=!1)}))},watch:{completed:function(t){t&&!this.all.length&&this.initialize()},isTempStockMode:function(t){this.readOnly=!!t,this.initialize()}},computed:{completed:function(){return this.$store.getters.getCompleted},isTempStockMode:function(){return this.$store.getters.getExistsTempStock},selectedAllType:function(){return this.selectedTypes.length===this.types.length},selectedSomeType:function(){return this.selectedTypes.length>0&&!this.selectedAllType},icon:function(){return this.selectedAllType?"mdi-close-box":this.selectedSomeType?"mdi-minus-box":"mdi-checkbox-blank-outline"},sumStock:function(){return o["sum"](this.edittedStock)},convertStatusString:function(){return function(t){return wt["a"].convertAttibuteString(t)}}},beforeDestroy:function(){this.unsbscribe&&this.unsbscribe()},methods:{initialize:function(){this.all=this.$store.state.items,this.all=this.all.filter((function(t){return t.id<500})),this.itemStock=this.$store.state.itemStock,this.readOnly&&(this.itemStock=this.$store.state.tempItemStock);var t=v["h"].ITEM_TYPES_ALT;this.types=[],this.selectedTypes=[];for(var e=0;e<t.length;e+=1)this.types.push({text:t[e].text,value:e}),this.selectedTypes.push(e);this.masterFilter()},masterFilter:function(){for(var t=this,e=this.selectedTypes,i=v["h"].ITEM_TYPES_ALT.filter((function(t,i){return e.includes(i)})).map((function(t){return t.types})).flat(),s=this.all,a=v["h"].ITEM_API_TYPE.filter((function(t){return i.includes(t.id)})),n=[],l=function(e){for(var i=a[e],l=s.filter((function(t){return t.apiTypeId===i.id})),o=[],r=function(e){for(var i=l[e],s={master:i,allCount:0,details:[]},a=[],n=0,r=t.itemStock.find((function(t){return t.id===i.id})),c=10;c>=0;c-=1){var d=r?r.num[c]:0;d&&(a.push({remodel:c,count:d}),n+=d)}s.details=a,s.allCount=n,o.push(s)},c=0;c<l.length;c+=1)r(c);n.push({type:i,items:o})},o=0;o<a.length;o+=1)l(o);this.baseViewItems=n,this.filter()},filter:function(){for(var t=this.baseViewItems,e=[],i=this.remodelRange[0],s=this.remodelRange[1],a=this.searchWord,n=0;n<t.length;n+=1){for(var l=t[n].items,r={type:t[n].type,items:[]},c=0;c<l.length;c+=1){var d=l[c],u=d.master,v=d.details,p=d.allCount;if(!a||-1!==u.name.indexOf(a)){var h=v.filter((function(t){return t.remodel>=i&&t.remodel<=s}));h.length?r.items.push({master:u,details:h,allCount:o["sum"](h.map((function(t){return t.count})))}):0!==i||0!==p||this.onlyStock||r.items.push(l[c])}}r.items.length&&e.push(r)}this.viewItems=e},toggleAllType:function(){var t=this;this.$nextTick((function(){t.selectedAllType?(t.selectedTypes=[],t.masterFilter()):(t.selectedTypes=t.types.map((function(t){return t.value})).slice(),t.masterFilter())}))},sortItems:function(t,e){"id"===e||"cost"===e?t.sort((function(t,i){return t.master[e]-i.master[e]})):t.sort((function(t,i){return i.master[e]-t.master[e]}))},clickItem:function(t){this.editDialog=!0,this.edittedItem=t;var e=this.itemStock.find((function(e){return e.id===t.id}));this.edittedStock=e?e.num:[0,0,0,0,0,0,0,0,0,0,0]},clearStock:function(){this.edittedStock=[0,0,0,0,0,0,0,0,0,0,0]},registStock:function(){var t=this;if(this.edittedItem){var e=this.edittedItem.id,i=this.itemStock.find((function(t){return t.id===e}));if(i)i.num=this.edittedStock;else{var s=new Ct["a"](e);s.num=this.edittedStock,this.itemStock.push(s)}this.$store.dispatch("updateItemStock",this.itemStock),this.masterFilter(),this.editDialog=!1,window.setTimeout((function(){t.edittedItem=void 0}),100)}},bootTooltip:function(t,e){var i=this;if(t.id){var s=e.target.getElementsByClassName("item-name")[0];this.tooltipTimer=window.setTimeout((function(){var e=s.getBoundingClientRect();i.tooltipX=e.x+e.width/3,i.tooltipY=e.y+e.height,i.tooltipItem=new St["a"]({master:t}),i.enabledTooltip=!0}),400)}},clearTooltip:function(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)}}}),Tt=Rt,Lt=(i("518e"),i("e449")),Dt=i("3a2f"),It=Object(m["a"])(Tt,xt,yt,!1,null,"011c52cc",null),$t=It.exports;g()(It,{VBtn:A["a"],VCard:b["a"],VCheckbox:P["a"],VDialog:E["a"],VDivider:j["a"],VExpansionPanel:U,VExpansionPanelContent:W,VExpansionPanelHeader:X,VExpansionPanels:Z,VIcon:tt["a"],VImg:et["a"],VListItem:it["a"],VListItemAction:st["a"],VListItemContent:at["a"],VListItemTitle:at["b"],VMenu:Lt["a"],VRangeSlider:S,VSelect:ct["a"],VSpacer:ut["a"],VTextField:w["a"],VTooltip:Dt["a"]}),gt()(It,{Ripple:Y["a"]});var Vt=i("66ce"),At=i("bee2"),Ot=i("d4ec"),Pt=Object(At["a"])((function t(){Object(Ot["a"])(this,t),this.id=0,this.key="",this.remarks="",this.createdAt=wt["a"].formatDate(new Date,"yyyy/MM/dd HH:mm:ss")})),Et=i("ce66"),jt=l["default"].extend({name:"FleetManager",components:{Ships:kt,Items:$t},data:function(){return{tab:"ship",code_tab:"ship_code",includeUnLocked:!1,readResultColor:"success",inputText:"",readOnlyMode:!1,loadingURL:!1,createdURL:"",copiedURLHint:"",copiedDeckHint:"",outputHistories:[],confirmDialog:!1,deleteIndex:-1,btnClicked:!1}},mounted:function(){var t=this.$store.state.outputHistories;t&&t.length&&(this.outputHistories=t.concat())},computed:{isTempStockMode:function(){return this.$store.getters.getExistsTempStock}},watch:{isTempStockMode:function(t){this.readOnlyMode=!!t,this.btnClicked=!1}},methods:{readJson:function(){this.setShipStock()?this.$emit("inform","在籍艦娘データの更新が完了しました。"):this.setItemStock()?this.$emit("inform","所持装備データの更新が完了しました。"):this.$emit("inform","データの読み込みに失敗しました。正しいデータではない可能性があります。",!0),this.inputText=""},setShipStock:function(){try{var t=wt["a"].readShipStockJson(this.inputText);if(0===t.length)return!1;var e=this.$store.state.siteSetting;return e.isStockOnlyForShipList=!0,this.$store.dispatch("updateSetting",e),this.$store.dispatch("updateShipStock",t),!0}catch(i){return!1}},setItemStock:function(){try{var t=wt["a"].readItemStockJson(this.inputText);if(0===t.length)return!1;var e=this.$store.state.siteSetting;return e.isStockOnlyForItemList=!0,this.$store.dispatch("updateSetting",e),this.$store.dispatch("updateItemStock",t),!0}catch(i){return!1}},requestURLKey:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i,s,a,n,l,o,r,c,d,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loadingURL=!0,i=t.$store.state.shipStock,s=t.$store.state.itemStock,a=Et["a"].createFirebaseStockObject(i,s),a.ships||a.items){e.next=7;break}return t.$emit("inform","艦娘、装備情報が登録されていません",!0),e.abrupt("return");case 7:if(n={ships:a.ships,items:a.items,date:wt["a"].formatDate(new Date,"yy/MM/dd HH:mm:ss"),v:2},e.prev=8,l=Object(Vt["c"])(),o=Object(Vt["d"])(Object(Vt["a"])(Object(Vt["e"])(l),"stocks")),r=o.key,r){e.next=14;break}return t.$emit("inform","共有URLの生成に失敗しました。",!0),e.abrupt("return");case 14:c=document,d=c.location,u="".concat(d.protocol,"//").concat(d.host).concat(d.pathname,"?stockid=").concat(r),Object(Vt["f"])(Object(Vt["e"])(l,"stocks/".concat(r)),n).then((function(){t.generateShortURL(u).then((function(e){e&&t.createHistory(r)}))})).catch((function(t){console.error(t)})),e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](8),console.error(e.t0),t.$emit("inform","共有URLの生成に失敗しました。",!0);case 23:case"end":return e.stop()}}),e,null,[[8,19]])})))()},generateShortURL:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var s,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s=!1,i.next=3,fetch("https://firebasedynamiclinks.googleapis.com/v1/shortLinks?key=".concat(v["h"].ApiKey),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({longDynamicLink:"https://aircalc.page.link/?link=".concat(t),suffix:{option:"SHORT"}})});case 3:return a=i.sent,i.next=6,a.json().then((function(t){t.error||!t.shortLink?(e.createdURL="URLの発行に失敗しました",e.loadingURL=!1):(e.createdURL=t.shortLink,e.loadingURL=!1,s=!0)}));case 6:return i.abrupt("return",s);case 7:case"end":return i.stop()}}),i)})))()},createHistory:function(t){var e=this.$store.state.outputHistories,i=o["max"](e.map((function(t){return t.id})))||0,s=e.concat(),a=new Pt;a.id=i+1,a.key=t,s.push(a),this.outputHistories=s,this.$store.dispatch("updateOutputHistories",s),this.$emit("inform","共有URLを生成しました。")},copyURL:function(){var t=document.getElementById("createdURL");t.select(),document.execCommand("copy"),this.copiedURLHint="URLがコピーされました。"},clearURLHint:function(){this.copiedURLHint=""},expandHistory:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var s,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.btnClicked=!0,s=e.outputHistories[t],i.next=4,Et["a"].getAndRestoreStockData(s.key);case 4:a=i.sent,a.shipStocks.length||a.itemStocks.length?(e.$store.dispatch("updateTempShipStock",a.shipStocks),e.$store.dispatch("updateTempItemStock",a.itemStocks),e.$emit("inform","編成を展開しました。")):e.$emit("inform","編成の展開に失敗しました。",!0);case 6:case"end":return i.stop()}}),i)})))()},clickedDeleteHistory:function(t){this.confirmDialog=!0,this.deleteIndex=t},deleteHistory:function(){this.confirmDialog=!1;var t=this.outputHistories[this.deleteIndex];if(t){var e=this.$store.state.outputHistories,i=e.filter((function(e){return e.id!==t.id}));this.outputHistories=i,this.$store.dispatch("updateOutputHistories",i),this.$emit("inform","出力履歴を削除しました。")}},updateHistory:function(t){var e=this.outputHistories[t];if(e){var i=this.$store.state.outputHistories,s=i.concat();s[t]=e,this.outputHistories=s,this.$store.dispatch("updateOutputHistories",s),this.$emit("inform","更新が完了しました。")}}}}),Mt=jt,Ht=(i("affd"),i("67b6")),Bt=i("43a6"),Ut=i("a844"),Kt=Object(m["a"])(Mt,s,a,!1,null,"5ec80be2",null);e["default"]=Kt.exports;g()(Kt,{VBtn:A["a"],VCard:b["a"],VDialog:E["a"],VDivider:j["a"],VIcon:tt["a"],VImg:et["a"],VRadio:Ht["a"],VRadioGroup:Bt["a"],VTab:vt["a"],VTabItem:pt["a"],VTabs:ht["a"],VTabsItems:mt["a"],VTextField:w["a"],VTextarea:Ut["a"]})},fb69:function(t,e,i){}}]);
//# sourceMappingURL=chunk-5d7ab53d.bd065bad.js.map